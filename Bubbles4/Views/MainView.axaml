<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Bubbles4.ViewModels"
             xmlns:views="clr-namespace:Bubbles4.Views"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Bubbles4.Views.MainView"
             x:DataType="vm:MainViewModel">
  <Design.DataContext>
    <!-- This only sets the DataContext for the previewer in an IDE,
         to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
    <vm:MainViewModel />
  </Design.DataContext>

    <Grid>
        <!-- Main UI layout -->
        <Grid RowDefinitions="40,*,32">
            <!-- Top toolbar/menu -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" >
                <Menu>
                    <MenuItem Header="Library">
                        <MenuItem Header="New" />
                        <MenuItem Header="Open" Command="{Binding PickDirectoryCommand}"/>
                    </MenuItem>
                </Menu>
                <TextBlock Text="Toolbar" Margin="8" VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Main content area -->
            <Border Grid.Row="1">
                <Grid ColumnDefinitions="*, Auto, *">
                    <Grid RowDefinitions="*, Auto, *">
                        <!--libraryview-->
                        <views:LibraryView DataContext="{Binding Library}"/>
                        <GridSplitter Grid.Row="1"
                                      Height="5"
                                      HorizontalAlignment="Stretch"
                                      Background="DarkGray"
                                      ShowsPreview="True" />

                        <TextBlock Grid.Row="2" Text="Bottom Panel" />
                    </Grid>


                    <GridSplitter Grid.Column="1"
                                  Width="5"
                                  VerticalAlignment="Stretch"
                                  Background="DarkGray"
                                  ShowsPreview="True" />

                    <TextBlock Grid.Column="2" Text="Right Panel" />
                </Grid>

                
            </Border>

            <!-- Status bar -->
            <StackPanel Grid.Row="2" Orientation="Horizontal">
                <TextBlock Text="{Binding LibraryPath}" Margin="8" VerticalAlignment="Center"/>
                
                <TextBlock Text="Count :" Margin="8" VerticalAlignment="Center"/>
                <TextBlock Text="{Binding Library.Count}" Margin="8" VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <!-- Overlay panel for fullscreen view -->
        <Panel x:Name="FullscreenOverlay"
               IsVisible="False"
               ZIndex="100"
               Background="Transparent"/>
    </Grid>
</UserControl>
